---
import Icon from '@/components/common/Icon.astro';
import GlassPanel from './GlassPanel.astro';
import type { ProjectItem } from './types';

interface Props {
  projects: ProjectItem[];
}

const { projects } = Astro.props;
---

<section id="projects" class="py-20">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <h2 class="text-3xl sm:text-4xl font-bold">Projects Bento</h2>
    <p class="mt-3 text-[rgb(var(--color-text-muted))]">Selected work with product impact and technical depth.</p>

    <div class="mt-10 grid md:grid-cols-2 lg:grid-cols-3 gap-5">
      {projects.map((project) => (
        <GlassPanel class={`p-6 ${project.featured ? 'lg:col-span-2' : ''}`}>
          <h3 class="text-xl font-semibold">{project.title}</h3>
          <p class="mt-2 text-[rgb(var(--color-text-secondary))]">{project.description}</p>

          <div class="mt-4 flex flex-wrap gap-2">
            {project.tech.slice(0, 5).map((tech) => (
              <span class="text-xs px-2.5 py-1 rounded-full border border-[rgb(var(--color-border))] bg-[rgb(var(--color-bg-secondary))]">{tech}</span>
            ))}
          </div>

          <div class="mt-5 flex items-center gap-4 text-sm">
            {project.github && (
              <a href={project.github} target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 hover:text-[rgb(var(--color-accent))]">
                <Icon name="github" size={15} /> Code
              </a>
            )}
            {project.link && (
              <a href={project.link} target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 hover:text-[rgb(var(--color-accent))]">
                <Icon name="external-link" size={15} /> Live
              </a>
            )}
          </div>
        </GlassPanel>
      ))}
    </div>
  </div>
</section>
